const axios = require('axios');

let greenCountries = [
  {
    name: 'Implemented',
    coordinates: [
      [-74.2973, 4.5709],
      [103.8467, 46.8625],
      [116.4074, 39.9042],
      // Add more coordinates here
    ]
  },
  // Add more country objects here
];

// Function to get the country name from coordinates using Nominatim
async function getCountryName(coordinates) {
  try {
    const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${coordinates[1]}&lon=${coordinates[0]}`;
    const response = await axios.get(url);
    return response.data.address.country;
  } catch (error) {
    console.error('Error while getting country name:', error);
    return null;
  }
}

// Function to fetch country names for all coordinates
async function getCountryNamesForCoordinates() {
  for (const country of greenCountries) {
    for (const coords of country.coordinates) {
      const countryName = await getCountryName(coords);
      console.log(`Country Name for ${coords}: ${countryName}`);
    }
  }
}

// Call the function to get country names
getCountryNamesForCoordinates();
